# ✅ 部署检查清单

> 确保你的博客网站部署成功的完整检查清单

## 🎯 部署前准备

### 服务器准备
- [ ] 已购买云服务器（推荐配置：2核4G，40G硬盘）
- [ ] 已获取服务器公网IP地址
- [ ] 已设置服务器登录密码
- [ ] 已配置安全组（开放80、443、3000端口）
- [ ] 能够通过SSH连接到服务器

### 域名准备（可选）
- [ ] 已购买域名
- [ ] 已完成域名实名认证
- [ ] 已配置域名解析（A记录指向服务器IP）

### 本地准备
- [ ] 已下载项目代码
- [ ] 已安装SSH客户端（PuTTY/Terminal）
- [ ] 已安装文件传输工具（WinSCP/Cyberduck）

## 🛠️ 部署过程检查

### 环境安装
- [ ] 系统已更新到最新版本
- [ ] Node.js 18+ 已安装成功
- [ ] npm/pnpm 已安装成功
- [ ] PM2 已安装成功
- [ ] Git 已安装成功

### 代码部署
- [ ] 项目代码已上传到 `/var/www/blog`
- [ ] 项目依赖已安装完成（`pnpm install`）
- [ ] `.env` 文件已创建并配置
- [ ] 数据库已初始化（`pnpm run init`）
- [ ] 项目已构建成功（`pnpm run build`）

### 服务启动
- [ ] PM2 已启动应用
- [ ] PM2 状态显示为 "online"
- [ ] PM2 已设置开机自启
- [ ] 应用在3000端口正常运行

### Web服务器配置（可选）
- [ ] Nginx 已安装
- [ ] Nginx 配置文件已创建
- [ ] Nginx 配置测试通过
- [ ] Nginx 服务已启动

### SSL证书配置（可选）
- [ ] Certbot 已安装
- [ ] SSL证书已申请成功
- [ ] HTTPS 访问正常
- [ ] 证书自动续期已配置

## 🔍 功能测试

### 前台功能
- [ ] 首页能正常访问
- [ ] 文章列表显示正常
- [ ] 文章详情页能正常打开
- [ ] 分类页面功能正常
- [ ] 标签页面功能正常
- [ ] 归档页面功能正常
- [ ] 搜索功能正常
- [ ] 关于页面显示正常

### 后台功能
- [ ] 登录页面能正常访问（`/login`）
- [ ] 能使用管理员账号成功登录
- [ ] 后台管理页面显示正常（`/admin`）
- [ ] 能创建新文章
- [ ] 能编辑现有文章
- [ ] 能发布/取消发布文章
- [ ] 能上传图片
- [ ] 能管理分类和标签
- [ ] 能查看和管理评论
- [ ] 能导出/导入备份

### 评论系统
- [ ] 游客能在文章下发表评论
- [ ] 评论提交后显示"等待审核"
- [ ] 管理员能在后台审核评论
- [ ] 审核通过的评论能正常显示
- [ ] 垃圾评论过滤功能正常

### SEO功能
- [ ] RSS订阅地址正常（`/feed.xml`）
- [ ] 站点地图正常（`/sitemap.xml`）
- [ ] 页面标题和描述正确
- [ ] 社交分享卡片正常

## 🔒 安全检查

### 账号安全
- [ ] 管理员密码已修改为强密码
- [ ] SESSION_SECRET 已设置为随机字符串
- [ ] 不使用默认的用户名和密码

### 服务器安全
- [ ] 防火墙已启用
- [ ] 只开放必要的端口
- [ ] SSH密码已修改
- [ ] 定期更新系统补丁

### 应用安全
- [ ] 敏感信息不在代码中硬编码
- [ ] 上传文件类型限制正常
- [ ] 评论内容过滤正常
- [ ] 访问频率限制正常

## 📊 性能检查

### 响应速度
- [ ] 首页加载时间 < 3秒
- [ ] 文章页面加载时间 < 2秒
- [ ] 图片加载正常
- [ ] 移动端访问正常

### 资源使用
- [ ] 服务器CPU使用率正常（< 80%）
- [ ] 内存使用率正常（< 80%）
- [ ] 磁盘空间充足（> 20%剩余）
- [ ] 数据库响应正常

## 📱 兼容性检查

### 浏览器兼容性
- [ ] Chrome 浏览器正常
- [ ] Firefox 浏览器正常
- [ ] Safari 浏览器正常
- [ ] Edge 浏览器正常

### 设备兼容性
- [ ] 桌面端显示正常
- [ ] 平板端显示正常
- [ ] 手机端显示正常
- [ ] 响应式布局正常

## 🔄 备份和监控

### 数据备份
- [ ] 能正常导出完整备份
- [ ] 备份文件能正常下载
- [ ] 备份恢复功能正常
- [ ] 已设置定期备份计划

### 监控设置
- [ ] PM2 监控正常
- [ ] 日志记录正常
- [ ] 错误报告正常
- [ ] 性能监控正常

## 📝 文档和维护

### 文档记录
- [ ] 服务器信息已记录
- [ ] 管理员账号信息已记录
- [ ] 域名和DNS信息已记录
- [ ] 重要配置文件已备份

### 维护计划
- [ ] 已制定内容更新计划
- [ ] 已制定备份计划
- [ ] 已制定安全检查计划
- [ ] 已制定系统更新计划

## 🎉 部署完成确认

### 最终检查
- [ ] 所有功能测试通过
- [ ] 性能表现良好
- [ ] 安全配置正确
- [ ] 备份机制完善

### 上线准备
- [ ] 已通知相关人员
- [ ] 已准备推广材料
- [ ] 已设置监控告警
- [ ] 已准备应急预案

---

## 🆘 问题排查

如果检查过程中发现问题，请参考：

- [完整部署教程](04-deployment-tutorial.md) - 详细的部署步骤
- [快速部署指南](05-quick-deploy-guide.md) - 常见问题解决方案
- [开发指南](02-development-guide.md) - 技术细节和故障排除

### 常用排查命令

```bash
# 检查服务状态
pm2 status
systemctl status nginx

# 查看日志
pm2 logs personal-blog
tail -f /var/log/nginx/error.log

# 重启服务
pm2 restart personal-blog
systemctl restart nginx

# 检查端口占用
netstat -tlnp | grep :3000
netstat -tlnp | grep :80

# 检查磁盘空间
df -h

# 检查内存使用
free -h
```

---

🎊 **恭喜！如果所有检查项都通过，你的博客网站已经成功上线了！**
